(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1185:function(e,t){},1395:function(e,t){},1423:function(e,t){},1425:function(e,t){},1451:function(e,t){},1453:function(e,t){},1466:function(e,t){},1468:function(e,t){},1491:function(e,t){},1493:function(e,t){},1499:function(e,t){},1503:function(e,t){},1505:function(e,t){},1532:function(e,t){},1534:function(e,t){},1540:function(e,t){},1541:function(e,t){},1673:function(e,t,n){e.exports={dropzone:"Dropzone_dropzone__2EKog",dragover:"Dropzone_dragover__cVJpt Dropzone_dropzone__2EKog",disabled:"Dropzone_disabled__3-wHL Dropzone_dropzone__2EKog",dropzoneFiles:"Dropzone_dropzoneFiles__1qebj"}},1674:function(e,t,n){e.exports={message:"Status_message__3kYlt",success:"Status_success__3hK9i Status_message__3kYlt",error:"Status_error__2VAEo Status_message__3kYlt"}},1675:function(e,t,n){e.exports={ipfsForm:"Form_ipfsForm__HhFlV"}},1677:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(11),c=n(148),s=n(0),i=n.n(s),u=n(1328),p=n.n(u),l=null,f="",d="";var g=n(19),h=n(1676),m=n(1673),b=n.n(m),_=n(70),v=n.n(_),E=n(16);function j(e,t){if(0===e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function O(e,t){return new Promise(function(n,r){var a=e.addReadableStream({wrapWithDirectory:!0});a.on("data",function(e){E.Logger.log("Added ".concat(e.path," hash: ").concat(e.hash)),""===e.path&&n(e.hash)}),a.on("error",r),a.write(t),a.end()})}function F(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()(t);case 3:return 200!==e.sent.status&&E.Logger.error("Not found: ".concat(t)),E.Logger.log("File found: ".concat(t)),e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(0),E.Logger.error(e.t0.message);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function k(e){var t=e.handleOnDrop,n=e.disabled,r=e.multiple,a=Object(s.useCallback)(function(e){return t(e)},[t]),o=Object(h.a)({onDrop:a}),c=o.acceptedFiles,u=o.getRootProps,p=o.getInputProps,l=o.isDragActive,f=o.isDragReject,d=c.map(function(e){return i.a.createElement("li",{key:e.path},e.path," - ",j(e.size,0))});return i.a.createElement(i.a.Fragment,null,c.length>0?i.a.createElement("aside",{className:b.a.dropzoneFiles},i.a.createElement("ul",null,d)):i.a.createElement("div",u({className:l?b.a.dragover:n?b.a.disabled:b.a.dropzone}),i.a.createElement("input",p({multiple:r})),i.a.createElement("p",null,l&&!f?"Drop it like it's hot!":r?"Drag 'n' drop some files here, or click to select files":"Drag 'n' drop a file here, or click to select a file")))}var y=n(15),x=n(150),S=n(1674),z=n.n(S);function D(e){var t=e.message,n=e.error,r=e.isIpfsReady?z.a.success:n?z.a.error:z.a.message;return i.a.createElement("div",{className:r},n||t)}var I=n(1675),B=n.n(I);function R(e){var t=e.children,n=e.ipfsMessage,r=e.ipfsError,a=e.isIpfsReady,o=e.error;return i.a.createElement("div",{className:B.a.ipfsForm},i.a.createElement(x.a,{htmlFor:"fileUpload",required:!0},"Add File To IPFS"),t,i.a.createElement(D,{message:n,isIpfsReady:a,error:r||o}))}function P(e){var t=e.addFile,n=new URL(y.h),r=n.hostname,u=n.port,h=function(e){var t=Object(s.useState)(Boolean(l)),n=Object(c.a)(t,2),r=n[0],i=n[1],u=Object(s.useState)(""),g=Object(c.a)(u,2),h=g[0],m=g[1];return Object(s.useEffect)(function(){function t(){return(t=Object(o.a)(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===l){t.next=2;break}return t.abrupt("return");case 2:return f="Checking IPFS gateway...",t.prev=3,t.next=6,p()(e);case 6:return l=t.sent,t.next=9,l.version();case 9:n=t.sent,d=n.version,f="Connected to ".concat(e.host),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),m("IPFS connection error: ".concat(t.t0.message));case 17:return t.t1=i,t.t2=Boolean,t.next=21,l.id();case 21:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),(0,t.t1)(t.t4);case 24:case"end":return t.stop()}},t,null,[[3,14]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e]),Object(s.useEffect)(function(){return function(){l&&(i(!1),l=null,f="",d="",m(""))}},[]),{ipfs:l,ipfsVersion:d,isIpfsReady:r,ipfsError:h,ipfsMessage:f}}({protocol:n.protocol.replace(":",""),host:r,port:u||"443"}),m=h.ipfs,b=h.isIpfsReady,_=h.ipfsError,v=h.ipfsMessage,E=Object(s.useState)(!1),w=Object(c.a)(E,2),x=w[0],S=w[1],z=Object(s.useState)(""),D=Object(c.a)(z,2),I=D[0],B=D[1],P=Object(s.useState)(""),M=Object(c.a)(P,2),L=M[0],A=M[1],K=Object(s.useState)(""),N=Object(c.a)(K,1)[0],C=Object(s.useState)(""),V=Object(c.a)(C,2),Y=V[0],J=V[1];function U(e){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(m,t);case 3:return n=e.sent,console.log("File added: ".concat(n)),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),J("Adding to IPFS failed: ".concat(e.t0.message)),S(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function H(){return(H=Object(o.a)(a.a.mark(function e(n){var r,o,c,s,i,u,p,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n[0]){e.next=2;break}return e.abrupt("return");case 2:return S(!0),J(""),r=n[0],o=r.path,c=r.size,s=j(c,0),A(s),i={path:o,content:r},e.next=11,U(i);case 11:if(u=e.sent){e.next=14;break}return e.abrupt("return");case 14:return p="".concat(y.g,"/ipfs/").concat(u,"/").concat(o),l="ipfs://".concat(u,"/").concat(o),B("Checking IPFS gateway URL"),e.next=19,F(p);case 19:e.sent&&t(l);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(s.useEffect)(function(){B("Adding to IPFS<br />\n             <small>".concat(N||0,"/").concat(L,"</small><br />"))},[L,N]),i.a.createElement(R,{error:Y,ipfsMessage:v,ipfsError:_,isIpfsReady:b},x?i.a.createElement(g.a,{message:I}):i.a.createElement(k,{multiple:!1,handleOnDrop:function(e){return H.apply(this,arguments)},disabled:!b}))}n.d(t,"default",function(){return P})}}]);
//# sourceMappingURL=4.2e4d9c7a.chunk.js.map